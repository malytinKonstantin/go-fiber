# Инструкция по установке и запуску проекта

## 1. Установка Go

1. Скачайте Go с официального сайта: https://golang.org/dl/
2. Следуйте инструкциям по установке для вашей операционной системы
3. Проверьте установку, выполнив в терминале:
   ```
   go version
   ```

## 2. Установка зависимостей проекта

1. Клонируйте репозиторий проекта
2. Перейдите в директорию проекта
3. Выполните команду для установки зависимостей:
   ```
   go mod download
   ```

## 3. Установка и настройка базы данных (PostgreSQL) через Docker

1. Установите Docker, если он еще не установлен
2. Запустите контейнер с PostgreSQL:
   ```
   docker run --name postgres -e POSTGRES_PASSWORD=postgres -p 5432:5432 -d postgres
   ```

## 4. Создание схемы базы данных

1. Перейдите в папку `db/schema`
2. Подключитесь к базе данных:
   ```
   psql -h localhost -U postgres -d postgres
   ```
3. Выполните SQL-запросы из файлов в папке `db/schema` для создания необходимых таблиц и структур

## 5. Генерация кода и документации

1. Генерация кода с помощью Wire:
   ```
   $HOME/go/bin/wire
   ```
2. Генерация Swagger документации:
   ```
   $HOME/go/bin/swag init
   ```

## 6. Запуск проекта

1. Убедитесь, что вы находитесь в корневой директории проекта
2. Выполните команду для запуска:
   ```
   go run main.go
   ```

Теперь ваш проект должен быть запущен и доступен по адресу, указанному в конфигурации (обычно http://localhost:3000).

## 7. Документация API

1. После запуска проекта, перейдите по адресу:
   ```
   http://localhost:3000/swagger/index.html
   ```
2. Здесь вы сможете изучить и протестировать доступные API-методы.

## 8. Дополнительные инструменты

1. Для подсчета строк кода установите и используйте cloc:
   ```
   brew install cloc
   cloc . --include-lang=Go
   ```

## 9. Использование Makefile

В проекте есть Makefile, который содержит различные полезные команды для разработки и сборки. Вот краткое описание основных команд:

- `make build`: Собирает приложение (включая генерацию кода Wire и документации Swagger)
- `make clean`: Очищает артефакты сборки
- `make test`: Запускает тесты
- `make coverage`: Запускает тесты с покрытием
- `make run`: Запускает приложение (включая генерацию кода Wire и документации Swagger)
- `make lint`: Запускает линтер
- `make fmt`: Форматирует код
- `make mod-tidy`: Обновляет зависимости
- `make wire`: Генерирует код с помощью Wire
- `make swagger`: Генерирует документацию Swagger
- `make all`: Выполняет полный цикл: обновление зависимостей, генерацию кода, линтинг, тестирование и сборку
- `make help`: Показывает справку по доступным командам

Чтобы использовать эти команды, просто выполните `make` с соответствующим аргументом в корневой директории проекта. Например:
